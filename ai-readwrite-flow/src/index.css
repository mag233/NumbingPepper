@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes search-highlight-flash {
  0% { background-color: rgb(59 130 246 / 0.3); }
  100% { background-color: transparent; }
}
.search-highlight-flash {
  animation: search-highlight-flash 2.5s ease-out;
}

:root {
  --surface-base: 11 18 33;
  --surface-raised: 17 24 42;
  --text-primary: 226 232 240;
  --text-muted: 148 163 184;
  --border: 51 65 85;
  --accent: 56 189 248;
  --status-warning: 251 191 36;
  --status-success: 52 211 153;
  --status-danger: 248 113 113;
  --action-attention: 251 191 36;
  --action-positive: 52 211 153;
  --highlight-yellow: 251 191 36;
  --highlight-red: 248 113 113;
  --highlight-blue: 56 189 248;
  --writer-insert-flash: 56 189 248;
  color-scheme: dark;
  background-color: rgb(var(--surface-base));
}

:root[data-theme='soft-dark'] {
  --surface-base: 13 20 38;
  --surface-raised: 19 28 48;
  --text-primary: 226 232 240;
  --text-muted: 148 163 184;
  --border: 51 65 85;
  --accent: 56 189 248;
  --status-warning: 251 191 36;
  --status-success: 52 211 153;
  --status-danger: 248 113 113;
  --action-attention: 251 191 36;
  --action-positive: 52 211 153;
  --highlight-yellow: 251 191 36;
  --highlight-red: 248 113 113;
  --highlight-blue: 56 189 248;
  --writer-insert-flash: 56 189 248;
  color-scheme: dark;
}

  :root[data-theme='ocean'] {
    --surface-base: 6 23 28;
    --surface-raised: 10 32 38;
    --text-primary: 226 232 240;
    --text-muted: 148 163 184;
    --border: 34 80 94;
    --accent: 34 211 238;
    --status-warning: 251 191 36;
    --status-success: 52 211 153;
    --status-danger: 248 113 113;
    --action-attention: 251 191 36;
    --action-positive: 52 211 153;
    --highlight-yellow: 251 191 36;
    --highlight-red: 248 113 113;
    --highlight-blue: 56 189 248;
    --writer-insert-flash: 34 211 238;
    color-scheme: dark;
  }

:root[data-theme='forest'] {
  --surface-base: 10 20 18;
  --surface-raised: 15 30 27;
  --text-primary: 226 232 240;
  --text-muted: 148 163 184;
  --border: 51 65 85;
  --accent: 52 211 153;
  --status-warning: 251 191 36;
  --status-success: 52 211 153;
  --status-danger: 248 113 113;
  --action-attention: 251 191 36;
  --action-positive: 52 211 153;
  --highlight-yellow: 251 191 36;
  --highlight-red: 248 113 113;
  --highlight-blue: 56 189 248;
  --writer-insert-flash: 52 211 153;
  color-scheme: dark;
}

:root[data-theme='sand'] {
  --surface-base: 20 18 14;
  --surface-raised: 28 25 19;
  --text-primary: 226 232 240;
  --text-muted: 148 163 184;
  --border: 64 59 47;
  --accent: 251 191 36;
  --status-warning: 251 191 36;
  --status-success: 52 211 153;
  --status-danger: 248 113 113;
  --action-attention: 251 191 36;
  --action-positive: 52 211 153;
  --highlight-yellow: 251 191 36;
  --highlight-red: 248 113 113;
  --highlight-blue: 56 189 248;
  --writer-insert-flash: 251 191 36;
  color-scheme: dark;
}

  :root[data-theme='light'] {
    --surface-base: 248 250 252;
    --surface-raised: 255 255 255;
    --text-primary: 15 23 42;
    --text-muted: 71 85 105;
    --border: 226 232 240;
    --accent: 37 99 235;
    --status-warning: 180 83 9;
    --status-success: 21 128 61;
    --status-danger: 185 28 28;
    --action-attention: 180 83 9;
    --action-positive: 21 128 61;
    --highlight-yellow: 180 83 9;
    --highlight-red: 185 28 28;
    --highlight-blue: 37 99 235;
    --writer-insert-flash: 37 99 235;
    color-scheme: light;
  }

body {
  min-height: 100vh;
  background-color: rgb(var(--surface-base));
  color: rgb(var(--text-primary));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  @apply min-h-screen;
}

a {
  color: rgb(var(--accent));
  transition: color 150ms;
}

a:hover {
  color: rgb(var(--accent) / 0.85);
}

/* Reader / react-pdf: selection + text layer hygiene (mitigate selection “ghosting”) */
.react-pdf__Page__textContent {
  line-height: 1;
}

.react-pdf__Page__textContent span {
  line-height: 1;
  padding: 0 !important;
  margin: 0 !important;
  color: transparent !important;
  text-shadow: none !important;
}

.react-pdf__Page__textContent ::selection {
  background: transparent;
}

/* Reader: find-in-document highlighting */
.arwf-find-rect {
  position: absolute;
  background: rgba(250, 204, 21, 0.28);
  border-radius: 2px;
}

.arwf-find-rect-active {
  outline: 2px solid rgba(56, 189, 248, 0.65);
  outline-offset: -1px;
}
